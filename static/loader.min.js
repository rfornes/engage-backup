!function(e,t){function a(a){var i=function(){},l=e.DEBUG?".css":".min.css",o="static",c=a.getAttribute("data-id");s(e,"__TVPage__")&&s(__TVPage__,"config")&&s(__TVPage__.config,c)&&s(__TVPage__.config[c],"channel")&&s(__TVPage__.config[c].channel,"id")&&(o="dynamic");var p=a.getAttribute("data-domain"),v=a.getAttribute("class").split("-").pop();return typeStaticPath=p+"/"+v+(e.DEBUG?"/":"/dist/"),i.run=function(){function i(){var e=a.href;-1==navigator.userAgent.indexOf("MSIE")?_.src=e:_.location=e}a.insertAdjacentHTML("beforebegin",'<div id="'+c+'-holder" class="tvp-iframe-holder"></div>');var m=t.getElementById(c+"-holder"),g=a.getAttribute("data-embedmethod")||"iframe";if("iframe"===g){var h=t.createElement("link");h.rel="stylesheet";var f=typeStaticPath;f+="css/"+(n?"mobile/":"")+"host"+l,h.href=f,r(h);var _=t.createElement("iframe");if(_.setAttribute("allowfullscreen",""),_.setAttribute("frameborder","0"),_.setAttribute("scrolling","no"),_.setAttribute("name",location.origin),_.classList.add("tvp-iframe"),"sidebar"===v&&e.addEventListener("message",function(e){if(e&&s(e,"data")&&s(e.data,"event")){var a=e.data.event;if("_tvp_sidebar_video_click"===a){var i=function(){d.removeEventListener("click",i,!1),d.remove(),v.remove()},r=t.createDocumentFragment(),d=t.createElement("div");d.classList.add("tvp-modal-overlay"),d.addEventListener("click",i),r.appendChild(d);var l=e.data,o=l.selectedVideo||{},v=t.createElement("div");v.classList.add("tvp-modal"),v.innerHTML='<svg class="tvp-modal-close" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg><div class="tvp-modal-guts"><p class="tvp-modal-title">'+o.title+'</p><iframe id="tvp-iframe-modal_'+c+'" src="'+p+"/tvpwidget/"+c+"-modal"+(n?"-mobile":"")+'" allowfullscreen frameborder="0" scrolling="no" class="tvp-iframe-modal"></iframe></div>',r.appendChild(v),r.querySelector(".tvp-modal-close").addEventListener("click",i);var m=r.querySelector(".tvp-iframe-modal");m.onload=function(){this.contentWindow.postMessage({event:"_tvp_sidebar_modal_data",videos:l.videos||[],selectedVideo:o},"*")},t.body.appendChild(r)}else"_tvp_sidebar_modal_rendered"===a&&(t.getElementById("tvp-iframe-modal_"+c).style.height=e.data.height)}}),m.classList.add(v),m.appendChild(_),"dynamic"===o){var u='<body class="'+o+' is-iframe" data-domain="'+p+'" data-id="'+c+"\" onload=\"var d = document, head = d.getElementsByTagName('head')[0],injScr = function(sr){ var s=d.createElement('script');s.src=sr;head.appendChild(s);};",y=["'//a.tvpage.com/tvpa.min.js'","'//appcdn.tvpage.com/player/assets/tvp/tvp-1.8.5-min.js'"];y=e.DEBUG?y.concat(["'"+typeStaticPath+"js/libs/analytics.js'","'"+typeStaticPath+"js/libs/player.js'","'"+typeStaticPath+"js/index.js'"]):y.concat(["'"+typeStaticPath+"js/scripts.min.js'"]);for(var b=0;b<y.length;b++)u+="injScr("+y[b]+");";u+="var css=d.createElement('link');css.rel='stylesheet';css.type='text/css';",u+="css.href='"+typeStaticPath+"css/styles"+l+"';head.appendChild(css);",e.DEBUG&&(u+="window.DEBUG=1;"),u+='">';var E=_.contentWindow.document;E.open().write(u),E.close()}else setTimeout(i,5);var j=function(){"sidebar"===v?e.addEventListener("message",function(e){if(e&&s(e,"data")&&s(e.data,"event")){var t=e.data.event;"_tvp_widget_first_render"!==t&&"_tvp_widget_grid_resize"!==t||(m.style.height=e.data.height)}}):"solo"===v?_.onload=function(){var t=this;e.addEventListener("resize",d(function(){t.contentWindow.postMessage({event:"_tvp_widget_holder_resize",size:[m.offsetWidth,m.offsetHeight]},"*")},50))}:console.log("type: "+v+" unknown")};j()}else{if(m.classList.add("inline"),__TVPage__.inline=__TVPage__.inline||[],__TVPage__.inline.push(c),!__TVPage__.inline.length)return;for(var P=t.createDocumentFragment(),w={tvpsolo:typeStaticPath+"js/index.js",player:typeStaticPath+"js/libs/player.js",analytics:typeStaticPath+"js/libs/analytics.js",tvpp:"//appcdn.tvpage.com/player/assets/tvp/tvp-1.8.5-min.js",tvpa:"//a.tvpage.com/tvpa.min.js"},S={tvpsolo:typeStaticPath+"js/scripts.min.js",tvpp:"//appcdn.tvpage.com/player/assets/tvp/tvp-1.8.5-min.js",tvpa:"//a.tvpage.com/tvpa.min.js"},y=e.DEBUG?w:S,T=Object.keys(y).length;T>0;){var B=Object.keys(y)[T-1];if(t.getElementById(B))break;var L=t.createElement("script");L.id=B,L.async=!0,L.src=y[B].replace(/'/g,""),P.appendChild(L),T--}var h=t.createElement("link");h.rel="stylesheet",h.href=typeStaticPath+"/css/styles"+l,P.appendChild(h),r(P)}},i.run(),i}function i(){for(;o>0;){var e=l[o-1];a(l[o-1]),e.remove(),o--}}e.DEBUG&&console.debug("startTime = "+performance.now());var n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),s=function(e,t){return"undefined"!=typeof e[t]},r=function(e){(t.getElementsByTagName("head")[0]||t.getElementsByTagName("body")[0]).appendChild(e)},d=function(e,t,a){var i;return function(){var n=this,s=arguments,r=function(){i=null,a||e.apply(n,s)},d=a&&!i;clearTimeout(i),i=setTimeout(r,t),d&&e.apply(n,s)}},l=t.querySelectorAll(".tvp-sidebar, .tvp-solo"),o=l.length;e.addEventListener("load",i)}(window,document);