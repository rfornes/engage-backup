var loadJSONP=function(){var e=0;return function(t,n,i){var o="_jsonp_"+e++;t+=t.match(/\?/)?"&callback="+o:"?callback="+o;var c=document.createElement("script");c.type="text/javascript",c.src=t,window[o]=function(e){n.call(i||window,e),document.getElementsByTagName("head")[0].removeChild(c),c=null,delete window[o]},document.getElementsByTagName("head")[0].appendChild(c)}}();!function(){var e={init:function(){this.createView(),this.getUrl().length&&this.fetchUrl()},getUrl:function(){return window.location.href},fetchUrl:function(){var e=this;loadJSONP("https://app.tvpage.com/api/tvsite/redirect?X-login-id=1758327&url="+encodeURIComponent(this.getUrl()),function(t){e.urlReady(t)})},urlReady:function(e){e&&-1==window.location.href.indexOf(e)?window.location.href=e:this.resetView()},createView:function(){this.$el=document.getElementById("tvp-redirect-view")},resetView:function(){this.$el&&(this.$el.style.display="none")}};e.init()}();